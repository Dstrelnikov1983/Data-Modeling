<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 530" font-family="Segoe UI, Tahoma, sans-serif">
  <defs>
    <filter id="shadow5" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="0" y="0" width="900" height="50" fill="#4472C4" rx="0"/>
  <text x="450" y="33" text-anchor="middle" fill="white" font-size="20" font-weight="700">Нотация Баркера (Barker Notation)</text>

  <!-- Subtitle -->
  <text x="450" y="78" text-anchor="middle" fill="#6c757d" font-size="14">Oracle-экосистема. Используется в Oracle SQL Developer Data Modeler. Мягкие скругления, # / * / o маркеры</text>

  <!-- ===== Entity: ШАХТА ===== -->
  <g filter="url(#shadow5)">
    <rect x="70" y="120" width="260" height="240" fill="white" stroke="#4472C4" stroke-width="2" rx="16"/>
    <!-- Name centered at top -->
    <text x="200" y="150" text-anchor="middle" fill="#4472C4" font-size="18" font-weight="700">ШАХТА</text>
    <line x1="90" y1="160" x2="310" y2="160" stroke="#4472C4" stroke-width="1"/>
    <!-- Attributes with Barker markers: # = PK, * = mandatory, o = optional -->
    <text x="95" y="185" fill="#ED7D31" font-size="15" font-weight="700">#</text>
    <text x="115" y="185" fill="#2c3e50" font-size="14">mine_id</text>
    <text x="95" y="212" fill="#2c3e50" font-size="15" font-weight="700">*</text>
    <text x="115" y="212" fill="#2c3e50" font-size="14">mine_name</text>
    <text x="95" y="239" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="115" y="239" fill="#2c3e50" font-size="14">region</text>
    <text x="95" y="266" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="115" y="266" fill="#2c3e50" font-size="14">max_depth_m</text>
    <text x="95" y="293" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="115" y="293" fill="#2c3e50" font-size="14">status</text>
    <text x="95" y="320" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="115" y="320" fill="#2c3e50" font-size="14">opened_date</text>
  </g>

  <!-- ===== Entity: ОБОРУДОВАНИЕ ===== -->
  <g filter="url(#shadow5)">
    <rect x="560" y="120" width="270" height="260" fill="white" stroke="#ED7D31" stroke-width="2" rx="16"/>
    <!-- Name centered at top -->
    <text x="695" y="150" text-anchor="middle" fill="#ED7D31" font-size="18" font-weight="700">ОБОРУДОВАНИЕ</text>
    <line x1="580" y1="160" x2="810" y2="160" stroke="#ED7D31" stroke-width="1"/>
    <!-- Attributes -->
    <text x="575" y="185" fill="#ED7D31" font-size="15" font-weight="700">#</text>
    <text x="595" y="185" fill="#2c3e50" font-size="14">equipment_id</text>
    <text x="575" y="212" fill="#2c3e50" font-size="15" font-weight="700">*</text>
    <text x="595" y="212" fill="#2c3e50" font-size="14">equipment_name</text>
    <text x="575" y="239" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="595" y="239" fill="#2c3e50" font-size="14">type_id</text>
    <text x="575" y="266" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="595" y="266" fill="#2c3e50" font-size="14">manufacturer</text>
    <text x="575" y="293" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="595" y="293" fill="#2c3e50" font-size="14">status</text>
    <text x="575" y="320" fill="#6c757d" font-size="15" font-weight="700">o</text>
    <text x="595" y="320" fill="#2c3e50" font-size="14">commissioned</text>
    <text x="575" y="347" fill="#2c3e50" font-size="15" font-weight="700">*</text>
    <text x="595" y="347" fill="#7c3aed" font-size="14" font-weight="600">mine_id (FK)</text>
  </g>

  <!-- ===== Relationship line (Barker style) ===== -->
  <!-- Solid line on mandatory side, dashed on optional -->

  <!-- Mandatory side (from Шахта - each mine CAN have equipment) -->
  <!-- Line: solid half (mandatory "one") from Шахта -->
  <line x1="330" y1="240" x2="440" y2="240" stroke="#2c3e50" stroke-width="2"/>
  <!-- Dashed half (optional) to Оборудование -->
  <line x1="440" y1="240" x2="555" y2="240" stroke="#2c3e50" stroke-width="2" stroke-dasharray="8,4"/>

  <!-- Crow's foot at "many" end (Barker uses similar) -->
  <line x1="555" y1="240" x2="537" y2="224" stroke="#2c3e50" stroke-width="2"/>
  <line x1="555" y1="240" x2="537" y2="256" stroke="#2c3e50" stroke-width="2"/>

  <!-- Single bar at "one" end -->
  <line x1="338" y1="225" x2="338" y2="255" stroke="#2c3e50" stroke-width="2"/>

  <!-- Verb phrases -->
  <text x="380" y="228" fill="#4472C4" font-size="12" font-style="italic">содержит</text>
  <text x="460" y="260" fill="#ED7D31" font-size="12" font-style="italic">принадлежит</text>

  <!-- Legend -->
  <rect x="60" y="400" width="780" height="115" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="8"/>
  <text x="80" y="425" fill="#2c3e50" font-size="14" font-weight="700">Особенности нотации Баркера:</text>

  <!-- Markers -->
  <text x="90" y="452" fill="#ED7D31" font-size="18" font-weight="700">#</text>
  <text x="115" y="452" fill="#2c3e50" font-size="13">Первичный ключ (PK)</text>

  <text x="300" y="452" fill="#2c3e50" font-size="18" font-weight="700">*</text>
  <text x="320" y="452" fill="#2c3e50" font-size="13">Обязательный атрибут (NOT NULL)</text>

  <text x="560" y="452" fill="#6c757d" font-size="18" font-weight="700">o</text>
  <text x="580" y="452" fill="#2c3e50" font-size="13">Необязательный атрибут (NULL)</text>

  <!-- Line styles -->
  <line x1="90" y1="478" x2="150" y2="478" stroke="#2c3e50" stroke-width="2"/>
  <text x="165" y="483" fill="#2c3e50" font-size="13">Обязательная связь (сплошная линия)</text>

  <line x1="440" y1="478" x2="500" y2="478" stroke="#2c3e50" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="515" y="483" fill="#2c3e50" font-size="13">Необязательная связь (пунктирная линия)</text>

  <text x="90" y="505" fill="#6c757d" font-size="12" font-style="italic">Скруглённые углы сущностей. Глагольные фразы подписываются в обоих направлениях связи</text>
</svg>
